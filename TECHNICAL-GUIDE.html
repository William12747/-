<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>視頻轉檔工具 - 技術指南</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-size: 2em;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            padding-left: 10px;
            font-size: 1.5em;
        }
        
        h3 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        h4 {
            color: #666;
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 1.05em;
        }
        
        p {
            margin-bottom: 12px;
            text-align: justify;
        }
        
        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }
        
        th, td {
            border: 1px solid #bdc3c7;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #ecf0f1;
        }
        
        tr:hover {
            background-color: #e8f4f8;
        }
        
        .box {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .box.warning {
            background-color: #fef5e7;
            border-left-color: #f39c12;
        }
        
        .box.success {
            background-color: #eafaf1;
            border-left-color: #27ae60;
        }
        
        .box.error {
            background-color: #fadbd8;
            border-left-color: #e74c3c;
        }
        
        .flow-diagram {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 20px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.6;
            font-size: 0.9em;
        }
        
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .icon {
            margin-right: 5px;
        }
        
        .toc {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 20px;
            border-radius: 4px;
            margin: 20px 0;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
            display: block;
            margin: 8px 0;
            padding: 5px;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .step {
            background-color: #ecf0f1;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        
        .step-number {
            display: inline-block;
            background-color: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .comparison-item {
            padding: 15px;
            border-radius: 4px;
            border: 2px solid #bdc3c7;
        }
        
        .comparison-item.bad {
            background-color: #fadbd8;
            border-color: #e74c3c;
        }
        
        .comparison-item.good {
            background-color: #eafaf1;
            border-color: #27ae60;
        }
        
        .page-break {
            page-break-after: always;
            margin: 50px 0;
            border-top: 2px dashed #bdc3c7;
            padding-top: 30px;
        }
        
        @media print {
            body {
                background-color: white;
            }
            
            .container {
                box-shadow: none;
            }
            
            .page-break {
                page-break-after: always;
            }
        }
        
        .highlight {
            background-color: #fffacd;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📹 視頻轉檔工具 - 技術指南</h1>
        
        <div class="toc">
            <h3>📋 目錄</h3>
            <a href="#核心概念">1. 核心概念</a>
            <a href="#為什麼能轉檔">2. 為什麼能轉檔</a>
            <a href="#技術架構">3. 技術架構</a>
            <a href="#為什麼需要這些技術">4. 為什麼需要這些技術</a>
            <a href="#隊列機制">5. 隊列機制</a>
            <a href="#掃描視頻過程">6. 掃描視頻過程</a>
            <a href="#轉換的完整步驟">7. 轉換的完整步驟</a>
            <a href="#完整工作流程示例">8. 完整工作流程示例</a>
        </div>

        <div id="核心概念" class="page-break">
            <h2>🎯 核心概念</h2>
            
            <h3>這個工具是什麼？</h3>
            <p>這是一個<span class="highlight">桌面應用</span>，用於將舊格式的視頻文件（如 .flv, .wmv, .avi, .3gp 等）<span class="highlight">批量轉換</span>成現代通用的 MP4 格式。</p>
            
            <h3>適用場景</h3>
            <ul>
                <li>轉換多個舊格式視頻為 MP4</li>
                <li>批量處理大量視頻文件</li>
                <li>在本地進行離線轉換</li>
                <li>需要監控轉換進度</li>
            </ul>
        </div>

        <div id="為什麼能轉檔">
            <h2>🔄 為什麼能轉檔</h2>
            
            <h3>FFmpeg - 轉檔的核心</h3>
            <p>本工具真正進行轉檔工作的是 <span class="highlight">FFmpeg</span> - 一個強大的開源視頻轉碼工具。</p>
            
            <h3>FFmpeg 的三大功能</h3>
            <table>
                <tr>
                    <th>功能</th>
                    <th>說明</th>
                </tr>
                <tr>
                    <td><strong>📖 讀取</strong></td>
                    <td>讀取各種舊格式視頻 (.flv, .wmv, .avi, .3gp 等)</td>
                </tr>
                <tr>
                    <td><strong>🔄 轉碼</strong></td>
                    <td>將視頻轉換為現代格式 (.mp4)</td>
                </tr>
                <tr>
                    <td><strong>💾 編碼</strong></td>
                    <td>使用高效的編碼器 (H.264 視頻 + AAC 音頻)</td>
                </tr>
            </table>
            
            <h3>工作原理</h3>
            <div class="flow-diagram">輸入視頻 (任意格式)
    ↓
FFmpeg 解碼 (理解舊格式)
    ↓
H.264 編碼 (轉換為 MP4 格式)
    ↓
AAC 音頻編碼 (高品質音頻)
    ↓
輸出 MP4 文件 ✅</div>
            
            <p><strong>類比：</strong>就像一台萬能翻譯機，能把各種書籍翻譯成統一的英文版本。</p>
        </div>

        <div id="技術架構" class="page-break">
            <h2>🏗️ 技術架構</h2>
            
            <h3>分層架構視圖</h3>
            <div class="flow-diagram">┌─────────────────────────────────────────┐
│         前端 (UI 層) - React            │
│  ┌──────────────────────────────────┐   │
│  │ React 組件                       │   │
│  │ - App.js (主應用)               │   │
│  │ - FolderSelector (選擇資料夾)   │   │
│  │ - ControlPanel (開始/暫停)      │   │
│  │ - QueueList (隊列顯示)          │   │
│  │ - LogViewer (日誌查看)          │   │
│  │ - PreviewPlayer (預覽播放)      │   │
│  └──────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    ↓
         IPC 通道 (前端 ↔ 後端)
                    ↓
┌─────────────────────────────────────────┐
│      後端 (Electron 主進程)             │
│  ┌──────────────────────────────────┐   │
│  │ main.js - 應用主進程             │   │
│  │ - 管理應用窗口                   │   │
│  │ - 轉發 IPC 命令                  │   │
│  │ - 調用 VideoProcessor           │   │
│  └──────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│     核心轉檔引擎                        │
│  ┌──────────────────────────────────┐   │
│  │ videoProcessor.js                │   │
│  │ - 掃描視頻文件                   │   │
│  │ - 調用 FFmpeg 轉檔              │   │
│  │ - 監控轉換進度                   │   │
│  └──────────────────────────────────┘   │
│  ┌──────────────────────────────────┐   │
│  │ FFmpeg 引擎                      │   │
│  │ - 實際進行視頻轉碼              │   │
│  └──────────────────────────────────┘   │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│       檔案系統                          │
│  ┌──────────────────────────────────┐   │
│  │ 輸入資料夾   →   輸出資料夾     │   │
│  │ 源視頻文件   →   MP4 文件       │   │
│  └──────────────────────────────────┘   │
└─────────────────────────────────────────┘</div>
            
            <h3>通信流程</h3>
            <div class="flow-diagram">React UI (前端)
    ↓ (用戶操作：點擊按鈕)
preload.js (安全橋接)
    ↓ (ipcRenderer 發送)
main.js (Electron 主進程)
    ↓ (ipcMain 接收)
videoProcessor.js (轉檔引擎)
    ↓ (調用)
FFmpeg (視頻轉碼)
    ↓ (完成)
main.js (返回結果)
    ↓ (ipcMain 響應)
preload.js (發送回前端)
    ↓ (事件監聽)
React UI (更新顯示) ✅</div>
        </div>

        <div id="為什麼需要這些技術" class="page-break">
            <h2>⚙️ 為什麼需要這些技術</h2>
            
            <h3>1. Electron（桌面應用框架）</h3>
            
            <h4>為什麼不直接用網頁？</h4>
            <table>
                <tr>
                    <th>需求</th>
                    <th style="background-color: #e74c3c;">網頁</th>
                    <th style="background-color: #27ae60;">Electron</th>
                </tr>
                <tr>
                    <td>訪問用戶文件系統</td>
                    <td>❌ 不行（安全限制）</td>
                    <td>✅ 可以</td>
                </tr>
                <tr>
                    <td>運行 FFmpeg 等系統工具</td>
                    <td>❌ 不行</td>
                    <td>✅ 可以</td>
                </tr>
                <tr>
                    <td>複雜後台轉碼操作</td>
                    <td>❌ 不行</td>
                    <td>✅ 可以</td>
                </tr>
                <tr>
                    <td>離線使用</td>
                    <td>❌ 需要網絡</td>
                    <td>✅ 可以</td>
                </tr>
                <tr>
                    <td>系統通知/托盤集成</td>
                    <td>❌ 有限</td>
                    <td>✅ 完全支持</td>
                </tr>
            </table>
            
            <p><strong>類比：</strong>Electron = 在您的電腦上運行的瀏覽器</p>
            
            <h4>Electron 的雙進程架構</h4>
            <div class="flow-diagram">┌──────────────────────────────┐
│    主進程 (Main Process)      │
│  - 管理應用窗口              │
│  - 訪問文件系統              │
│  - 運行 FFmpeg              │
│  - 系統級操作                │
└──────────────────────────────┘
            ↕ IPC
┌──────────────────────────────┐
│   渲染進程 (Renderer)         │
│  - React UI 在這裡           │
│  - 用戶交互                  │
│  - 顯示結果                  │
└──────────────────────────────┘</div>
            
            <h3>2. React（UI 框架）</h3>
            
            <h4>為什麼需要？</h4>
            <ul>
                <li><strong>🎨 搭建漂亮的界面</strong> - 按鈕、表單、列表、進度條</li>
                <li><strong>🔄 實時更新</strong> - 隊列變化時立即刷新顯示</li>
                <li><strong>⚡ 高效渲染</strong> - 只更新變化的部分，不重新渲染整個頁面</li>
                <li><strong>📱 組件化</strong> - 把 UI 分成可重用的組件</li>
            </ul>
            
            <h3>3. IPC（進程間通信）</h3>
            
            <h4>為什麼需要？</h4>
            <p>前端（React）和後端（FFmpeg）運行在不同進程中，需要通信。</p>
            
            <div class="flow-diagram">前端請求: "請幫我轉這個視頻"
    ↓
IPC 通道 (信息傳遞)
    ↓
後端執行: FFmpeg 開始轉碼
    ↓
IPC 通道 (結果返回)
    ↓
前端更新: "轉碼完成！"</div>
        </div>

        <div id="隊列機制" class="page-break">
            <h2>📊 隊列機制</h2>
            
            <h3>為什麼需要隊列？</h3>
            
            <div class="comparison">
                <div class="comparison-item bad">
                    <h4>❌ 不用隊列（同時轉換）</h4>
                    <div class="flow-diagram">同時啟動 10 個 FFmpeg 進程
    ↓
CPU 100% | 內存滿載 | 硬盤超負荷
    ↓
電腦卡死或轉碼質量下降</div>
                </div>
                <div class="comparison-item good">
                    <h4>✅ 使用隊列（順序轉換）</h4>
                    <div class="flow-diagram">隊列: [視頻1(處理中), 視頻2(等待), ...]
    ↓ 視頻1 完成
隊列: [視頻1(✅), 視頻2(處理中), ...]
    ↓ 視頻2 完成
隊列: [視頻1(✅), 視頻2(✅), ...]</div>
                </div>
            </div>
            
            <h3>隊列狀態機制</h3>
            <div class="flow-diagram">QUEUED (等待中)
   ↓
PROCESSING (轉換中)
   ├─→ COMPLETED (✅ 成功)
   └─→ FAILED (❌ 失敗)</div>
            
            <h3>隊列優點</h3>
            <table>
                <tr>
                    <th>優點</th>
                    <th>說明</th>
                </tr>
                <tr>
                    <td><strong>穩定</strong></td>
                    <td>一次只轉一個，系統負荷穩定</td>
                </tr>
                <tr>
                    <td><strong>可控</strong></td>
                    <td>可隨時暫停/繼續</td>
                </tr>
                <tr>
                    <td><strong>靈活</strong></td>
                    <td>可新增或移除隊列中的項目</td>
                </tr>
                <tr>
                    <td><strong>高效</strong></td>
                    <td>充分利用系統資源但不過載</td>
                </tr>
                <tr>
                    <td><strong>易監控</strong></td>
                    <td>清楚看到每個視頻的轉換狀態</td>
                </tr>
            </table>
        </div>

        <div id="掃描視頻過程" class="page-break">
            <h2>🔍 掃描視頻過程</h2>
            
            <h3>完整的掃描流程</h3>
            <div class="flow-diagram">用戶點「掃描影片檔案」
    ↓
前端調用: window.electronAPI.scanFolder(folderPath)
    ↓
IPC 發送掃描請求到後端
    ↓
後端 (main.js) 調用: scanFolder(folderPath)
    ↓
遞歸掃描所有子目錄
    │
    ├─ 加載目錄中的所有文件
    ├─ 逐一檢查每個文件的副檔名
    ├─ 與 SUPPORTED_FORMATS 列表比對
    │   SUPPORTED_FORMATS = ['.flv', '.avi', '.wmv', '.3gp', ...]
    ├─ 符合格式？→ 添加到結果
    └─ 不符合？→ 跳過
    ↓
返回找到的所有視頻文件列表
    ↓
IPC 發送結果回前端
    ↓
React 更新隊列顯示所有找到的視頻</div>
            
            <h3>支援的格式列表</h3>
            <div class="box success">
                <strong>.flv</strong> - Flash 視頻<br>
                <strong>.asf</strong> - Advanced Systems Format<br>
                <strong>.rmvb</strong> - RealMedia 視頻<br>
                <strong>.mpeg, .mpg</strong> - MPEG 視頻<br>
                <strong>.wmv</strong> - Windows Media 視頻<br>
                <strong>.avi</strong> - Audio Video Interleave<br>
                <strong>.3gp, .3gpp</strong> - 3GPP 視頻
            </div>
            
            <h3>為什麼要遞歸掃描？</h3>
            <div class="flow-diagram">D:\影片\
├── 老電影.flv ✅ 找到
├── 手機視頻.3gp ✅ 找到
├── 照片.jpg ❌ 跳過
└── 2024年\
    ├── 家庭影片.wmv ✅ 找到
    └── 旅遊\
        └── 海邊.flv ✅ 找到</div>
            
            <p><strong>不遞歸 = 只掃最上層，會漏掉子目錄中的視頻</strong></p>
        </div>

        <div id="轉換的完整步驟" class="page-break">
            <h2>✅ 轉換的完整步驟</h2>
            
            <h3>六個檢查點</h3>
            <p>每一個視頻轉換都會經過 6 個檢查點確保成功。</p>
            
            <table>
                <tr>
                    <th>檢查點</th>
                    <th>目的</th>
                    <th>檢查內容</th>
                </tr>
                <tr>
                    <td><strong>檢查點 1</strong></td>
                    <td>驗證輸入參數</td>
                    <td>inputPath 和 outputPath 不為空且格式有效</td>
                </tr>
                <tr>
                    <td><strong>檢查點 2</strong></td>
                    <td>檢查輸入文件</td>
                    <td>文件存在、可讀、不是受保護的</td>
                </tr>
                <tr>
                    <td><strong>檢查點 3</strong></td>
                    <td>準備輸出目錄</td>
                    <td>輸出目錄存在，必要時自動創建</td>
                </tr>
                <tr>
                    <td><strong>檢查點 4</strong></td>
                    <td>FFprobe 掃描</td>
                    <td>獲取時長、分辨率、編碼、幀率等信息</td>
                </tr>
                <tr>
                    <td><strong>檢查點 5</strong></td>
                    <td>啟動 FFmpeg</td>
                    <td>開始實際轉碼，監控進度</td>
                </tr>
                <tr>
                    <td><strong>檢查點 6</strong></td>
                    <td>驗證輸出</td>
                    <td>確認 MP4 文件成功生成</td>
                </tr>
            </table>
            
            <h3>視覺化轉換流程</h3>
            <div class="flow-diagram">輸入: 港女吹.flv (10.45 MB)
 ↓
[檢查點 1] ✅ 參數有效
 ↓
[檢查點 2] ✅ 文件存在且可讀
 ↓
[檢查點 3] ✅ 輸出目錄準備就緒
 ↓
[檢查點 4] ✅ 視頻信息掃描完成
     - 時長: 163 秒
     - 分辨率: 1920x1080
 ↓
[檢查點 5] ✅ FFmpeg 轉碼進行中
     進度: 0% → 25% → 50% → 75% → 100%
     耗時: ~30 秒
 ↓
[檢查點 6] ✅ 輸出文件驗證成功
     港女吹.mp4 (17.47 MB) ✅</div>
        </div>

        <div id="完整工作流程示例" class="page-break">
            <h2>🎬 完整工作流程示例</h2>
            
            <h3>真實場景</h3>
            <div class="box">
                <strong>您有一個包含舊視頻的資料夾結構：</strong>
                <div class="flow-diagram">D:\影片\
├── 老電影.flv (10.45 MB)
├── 家庭\
│   └── 婚禮.wmv (50 MB)
├── 手機\
│   └── 短影片.3gp (5 MB)
├── 照片.jpg (忽略)
└── 文檔.txt (忽略)</div>
            </div>
            
            <h3>第 1 步：選擇輸入資料夾</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>用戶點擊「選擇資料夾」</strong>
                <div class="flow-diagram">用戶點擊「選擇資料夾」
    ↓
打開文件夾對話框
    ↓
用戶選擇: D:\影片\
    ↓
前端顯示: 📁 D:\影片\</div>
            </div>
            
            <h3>第 2 步：掃描影片文件</h3>
            <div class="step">
                <span class="step-number">2</span>
                <strong>用戶點擊「掃描影片檔案」</strong>
                <div class="flow-diagram">用戶點擊「掃描影片檔案」
    ↓ 系統遞歸掃描
發現 3 個視頻文件
    ├─ 老電影.flv (10.45 MB)
    ├─ 婚禮.wmv (50 MB)
    └─ 短影片.3gp (5 MB)
    ↓
UI 顯示隊列列表:
[1] 老電影.flv - QUEUED ⏳
[2] 婚禮.wmv - QUEUED ⏳
[3] 短影片.3gp - QUEUED ⏳</div>
            </div>
            
            <h3>第 3 步：選擇輸出資料夾</h3>
            <div class="step">
                <span class="step-number">3</span>
                <strong>用戶選擇輸出資料夾</strong>
                <div class="flow-diagram">用戶點擊「選擇輸出資料夾」
    ↓
用戶選擇: D:\轉換完成\
    ↓
前端顯示: 📁 D:\轉換完成\</div>
            </div>
            
            <h3>第 4 步：開始轉換</h3>
            <div class="step">
                <span class="step-number">4</span>
                <strong>用戶點擊「開始轉換」</strong>
                <div class="box success">
                    <strong>第一個視頻：老電影.flv → 老電影.mp4</strong>
                    <ul>
                        <li>✅ [檢查點 1] 驗證路徑參數</li>
                        <li>✅ [檢查點 2] 文件存在且可讀</li>
                        <li>✅ [檢查點 3] 輸出目錄準備</li>
                        <li>✅ [檢查點 4] FFprobe 掃描 (時長: 600 秒)</li>
                        <li>✅ [檢查點 5] FFmpeg 轉碼中 (耗時: ~3 分鐘)</li>
                        <li>✅ [檢查點 6] 驗證輸出 (港女吹.mp4 125 MB)</li>
                        <li><strong>狀態: COMPLETED ✅</strong></li>
                    </ul>
                </div>
                
                <div class="box success">
                    <strong>第二個視頻：婚禮.wmv → 婚禮.mp4</strong>
                    <ul>
                        <li>✅ 自動進行相同的 6 個檢查點</li>
                        <li>轉換耗時: ~4 分鐘</li>
                        <li><strong>狀態: COMPLETED ✅</strong></li>
                    </ul>
                </div>
                
                <div class="box success">
                    <strong>第三個視頻：短影片.3gp → 短影片.mp4</strong>
                    <ul>
                        <li>✅ 自動進行相同的 6 個檢查點</li>
                        <li>轉換耗時: ~30 秒</li>
                        <li><strong>狀態: COMPLETED ✅</strong></li>
                    </ul>
                </div>
                
                <div class="box success">
                    <strong>轉換完成！</strong>
                    <div class="flow-diagram">輸出目錄 D:\轉換完成\ 中:
├── 老電影.mp4 ✅
├── 婚禮.mp4 ✅
└── 短影片.mp4 ✅</div>
                </div>
            </div>
            
            <h3>總耗時</h3>
            <div class="box">
                <ul>
                    <li><strong>老電影轉換：</strong>3 分鐘 (600 秒視頻 → ~3 倍速)</li>
                    <li><strong>婚禮轉換：</strong>4 分鐘 (2400 秒視頻 → ~10 倍速)</li>
                    <li><strong>短影片轉換：</strong>30 秒 (300 秒視頻 → ~10 倍速)</li>
                    <li><strong>總計：</strong>約 7-8 分鐘</li>
                </ul>
            </div>
        </div>

        <div class="page-break">
            <h2>📚 技術棧總結</h2>
            
            <table>
                <tr>
                    <th>層級</th>
                    <th>技術</th>
                    <th>版本</th>
                    <th>用途</th>
                </tr>
                <tr>
                    <td><strong>UI 層</strong></td>
                    <td>React</td>
                    <td>18.2.0</td>
                    <td>用戶介面和交互</td>
                </tr>
                <tr>
                    <td><strong>應用層</strong></td>
                    <td>Electron</td>
                    <td>27.0.0</td>
                    <td>桌面應用容器</td>
                </tr>
                <tr>
                    <td><strong>轉碼層</strong></td>
                    <td>FFmpeg</td>
                    <td>系統安裝</td>
                    <td>視頻編碼引擎</td>
                </tr>
                <tr>
                    <td><strong>轉碼層</strong></td>
                    <td>fluent-ffmpeg</td>
                    <td>2.1.2</td>
                    <td>FFmpeg Node.js 套件</td>
                </tr>
                <tr>
                    <td><strong>工具層</strong></td>
                    <td>FFprobe</td>
                    <td>3.1.0</td>
                    <td>視頻信息提取</td>
                </tr>
            </table>
        </div>

        <div class="page-break">
            <h2>❓ 常見問題</h2>
            
            <h3>Q1: 為什麼轉換很慢？</h3>
            <p><strong>A:</strong> 這是正常的。FFmpeg 進行實時轉碼需要時間：時長 10 分鐘的視頻 → 轉換需要 1-3 分鐘。取決於系統速度、視頻解析度、存儲速度。</p>
            
            <h3>Q2: 我可以邊轉邊停嗎？</h3>
            <p><strong>A:</strong> 可以！點「暫停」停止當前轉換，後續視頻等待中。點「繼續」從暫停的視頻繼續轉換。</p>
            
            <h3>Q3: 轉換後的 MP4 格式是什麼？</h3>
            <p><strong>A:</strong> 統一標準：</p>
            <ul>
                <li>視頻: H.264 (高效、流播性好)</li>
                <li>音頻: AAC (高品質、常用)</li>
                <li>比特率: 根據原視頻自動調整</li>
                <li>品質: CRF 22 (平衡品質和文件大小)</li>
            </ul>
            
            <h3>Q4: 轉換後的文件在哪裡？</h3>
            <p><strong>A:</strong> 在您選擇的輸出資料夾中。轉換過程會自動創建必要的子目錄以保持原始目錄結構。</p>
        </div>

        <footer style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #bdc3c7; text-align: center; color: #7f8c8d;">
            <p>視頻轉檔工具技術指南 | 版本 1.0 | 2026年2月</p>
            <p>這份文檔旨在幫助初學者理解視頻轉檔工具的完整技術架構和工作流程</p>
        </footer>
    </div>
</body>
</html>
